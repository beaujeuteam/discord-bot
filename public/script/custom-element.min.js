!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _di=_interopRequireDefault(require("./di")),_vTree=_interopRequireDefault(require("./nodes/v-tree"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){if(null===Class||!function(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(Parent,args,Class){return(_construct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var CustomElement=function(_HTMLElement){function CustomElement(){var _this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CustomElement),(_this=_possibleConstructorReturn(this,_getPrototypeOf(CustomElement).call(this)))._init=!1,_this._container=_di.default,_this._style=document.createElement("style"),_this._vdom=new _vTree.default;var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=_this.constructor.injects[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var inject=_step.value;_this._container.add(inject,inject,inject.injects||[])}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return _this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(CustomElement,_wrapNativeSuper(HTMLElement)),function(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}(CustomElement,[{key:"connectedCallback",value:function(){var _this2=this;if(!this._init){var styles=Array.isArray(this.constructor.styles)?this.constructor.styles:[this.constructor.styles];this._style.innerHTML=styles.join("\n"),this.attachShadow({mode:"open"}),this._vdom.render(this.shadowRoot,function(html,style){if(html instanceof HTMLTemplateElement)return html.content.cloneNode(!0);var template=document.createElement("template");return template.innerHTML=style+("string"==typeof html?html.trim():html.innerHTML),template.content}(this.constructor.template,this._style.outerHTML),this),this._init=!0}this.all("slot").forEach(function(slot){slot.assignedElements().forEach(function(el){el._vdom=new _vTree.default,el._vdom.render(el,el.cloneNode(!0),_this2)})}),this.update(),this.onConnected&&this.onConnected()}},{key:"attributeChangedCallback",value:function(name,oldValue,newValue){try{oldValue=JSON.parse(oldValue)}catch(e){}try{newValue=JSON.parse(newValue)}catch(e){}this[name]!==newValue&&(this[name]=newValue,this.onChanges&&this.onChanges(name,oldValue,newValue))}},{key:"disconnectedCallback",value:function(){this.onDisconnected&&this.onDisconnected()}},{key:"update",value:function(){var _this3=this,details=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};for(var prop in details)void 0!==this[prop]&&(this[prop]=details[prop]);this.shadowRoot&&(this._vdom.update(this),this.all("slot").forEach(function(slot){slot.assignedElements().forEach(function(el){return el._vdom.update(_this3)})}))}},{key:"get",value:function(key){return this._container.get(key)}},{key:"set",value:function(key,value){var parameters=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];this._container.add(key,value,parameters)}},{key:"has",value:function(key){return this._container.has(key)}},{key:"on",value:function(event,callback){var options=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return this.shadowRoot.addEventListener(event,callback,options),this}},{key:"el",value:function(selector){return this.element(selector)}},{key:"element",value:function(selector){var el=this.shadowRoot.querySelector(selector);return el&&!el.on&&(el.on=function(event,callback){var options=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return el.addEventListener(event,callback,options)}),el}},{key:"elementAll",value:function(selector){var els=this.shadowRoot.querySelectorAll(selector);return Array.from(els).forEach(function(el){el&&!el.on&&(el.on=function(event,callback){var options=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return el.addEventListener(event,callback,options)})}),Array.from(els)}},{key:"all",value:function(selector){return this.elementAll(selector)}},{key:"emit",value:function(event){return this.shadowRoot.dispatchEvent(event)}}],[{key:"template",get:function(){return"<slot></slot>"}},{key:"injects",get:function(){return[]}},{key:"observedAttributes",get:function(){return[]}},{key:"styles",get:function(){return[]}}]),CustomElement}();exports.default=CustomElement},{"./di":2,"./nodes/v-tree":7}],2:[function(require,module,exports){"use strict";function _construct(Parent,args,Class){return(_construct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Injectable=exports.Container=void 0;var Container=function(){function Container(){_classCallCheck(this,Container),this._items={}}return _createClass(Container,[{key:"get",value:function(key){var _this=this;if("function"==typeof key?key=key.name:"object"===_typeof(key)&&(key=key.constructor.name),!this._items[key])return null;var service=this._items[key];return service.instance?service.instance:service.object?("function"==typeof service.object?this._items[key].instance=_construct(service.object,_toConsumableArray(service.parameters.map(function(p){return _this.get(p)}))):this._items[key].instance=service.object,service.instance):service}},{key:"has",value:function(key){return"function"==typeof key?key=key.name:"object"===_typeof(key)&&(key=key.constructor.name),!!this._items[key]}},{key:"add",value:function(key,value,parameters){"function"==typeof key?key=key.name:"object"===_typeof(key)?key=key.constructor.name:"string"==typeof key&&(this._items[key]=value),this.has(key)||(this._items[key]={object:value,parameters:parameters})}},{key:"items",get:function(){return this._items}},{key:"scope",get:function(){var scope={};for(var key in this._items)scope[key]=this.get(key);return scope}}]),Container}();exports.Container=Container;var Injectable=function(){function Injectable(){_classCallCheck(this,Injectable)}return _createClass(Injectable,null,[{key:"injects",get:function(){return[]}}]),Injectable}();exports.Injectable=Injectable;var _default=new Container;exports.default=_default},{}],3:[function(require,module,exports){"use strict";var _di=require("./di"),_customElement=_interopRequireDefault(require("./custom-element")),_vdom=_interopRequireDefault(require("./vdom"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}window.CustomElement=_customElement.default,window.Injectable=_di.Injectable,window.VDOM=_vdom.default},{"./custom-element":1,"./di":2,"./vdom":8}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vdom=_interopRequireDefault(require("./../vdom")),_vNode=_interopRequireDefault(require("./v-node"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var VirtualForNode=function(_VirtualNode){function VirtualForNode(element){var _this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VirtualForNode);var attr=element.getAttribute("#for").match(/(?:var|let)\s+(\S+)\s+(?:in|of)\s+(\S+)/);return element.removeAttribute("#for"),(_this=_possibleConstructorReturn(this,_getPrototypeOf(VirtualForNode).call(this,element))).forAttr=attr,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(VirtualForNode,_vNode["default"]),function(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}(VirtualForNode,[{key:"updateElement",value:function(element,scope){var _this2=this,details=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},parent=element.parentNode;parent.querySelectorAll('*[_for="'.concat(this.forAttr[1],'"]')).forEach(function(child){return parent.removeChild(child)}),_vdom.default.parseExpression("for ("+this.forAttr[0]+") { iteration("+this.forAttr[1]+", "+this.forAttr[2]+"); }",Object.assign({},details,{iteration:function(el,els){Array.isArray(els)?details.$index=els.indexOf(el):details.$value=els[el],details[_this2.forAttr[1]]=el,parent.appendChild(function createElement(vElement,scope,details){if("text"===vElement.type&&vElement.data)return document.createTextNode(vElement.data);var element=vElement instanceof VirtualForNode?vElement.createElement(scope,details,!0):vElement.createElement(scope,details);if(vElement.children.length){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=vElement.children[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var vChild=_step.value;vChild instanceof VirtualForNode?vChild.updateElement({parentNode:element},scope,details):element.appendChild(createElement(vChild,scope,details))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}return element}(_this2,scope,details)).setAttribute("_for",_this2.forAttr[1])}}),scope)}},{key:"createElement",value:function(scope,details){return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]?_get(_getPrototypeOf(VirtualForNode.prototype),"createElement",this).call(this,scope,details,!1):document.createTextNode("")}}]),VirtualForNode}();exports.default=VirtualForNode},{"./../vdom":8,"./v-node":6}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vdom=_interopRequireDefault(require("./../vdom")),_vNode=_interopRequireDefault(require("./v-node"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var VirtualIfNode=function(_VirtualNode){function VirtualIfNode(element){var _this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VirtualIfNode);var condition=element.getAttribute("#if");return element.removeAttribute("#if"),(_this=_possibleConstructorReturn(this,_getPrototypeOf(VirtualIfNode).call(this,element))).condition=condition,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(VirtualIfNode,_vNode["default"]),function(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}(VirtualIfNode,[{key:"updateElement",value:function(element,scope,details){var nElement=this.createElement(scope,details);_get(_getPrototypeOf(VirtualIfNode.prototype),"updateElement",this).call(this,nElement,scope,details),element.parentNode.replaceChild(nElement,element)}},{key:"createElement",value:function(scope,details){return _vdom.default.parseExpression("return "+this.condition,details,scope)?_get(_getPrototypeOf(VirtualIfNode.prototype),"createElement",this).call(this,scope,details):document.createTextNode("")}}]),VirtualIfNode}();exports.default=VirtualIfNode},{"./../vdom":8,"./v-node":6}],6:[function(require,module,exports){"use strict";var obj,_vdom=(obj=require("./../vdom"))&&obj.__esModule?obj:{default:obj};function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var VirtualNode=function(){function VirtualNode(element){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VirtualNode),this.type=String(element.tagName).toLowerCase(),this.attributes=[],this.vAttributes=[],this.vEvents=[],this.vCustomAttributes=[],this.dataset=element.dataset,this.children=[];var attributesToDelete=[];if(element.attributes)for(var i=0;i<element.attributes.length;i++){var aMatch=_vdom.default.ATTRIBUTE_REGEX.exec(element.attributes[i].name);aMatch&&(this.vAttributes.push({name:aMatch[1],value:element.attributes[i].value}),attributesToDelete.push(element.attributes[i].name));var eMatch=_vdom.default.EVENT_REGEX.exec(element.attributes[i].name);eMatch&&(this.vEvents.push({name:eMatch[1],value:element.attributes[i].value}),attributesToDelete.push(element.attributes[i].name));var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=_vdom.default.customAttributes[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var customAttribute=_step.value,cMatch=customAttribute.pattern.exec(element.attributes[i].name);cMatch&&(this.vCustomAttributes.push({name:cMatch[1],value:element.attributes[i].value,callback:customAttribute.callback}),attributesToDelete.push(element.attributes[i].name))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}for(var _i=0,_attributesToDelete=attributesToDelete;_i<_attributesToDelete.length;_i++){var name=_attributesToDelete[_i];element.removeAttribute(name)}this.attributes=Array.from(element.attributes),this.children=_vdom.default.flatten(Array.from(element.childNodes).map(function(node){return _vdom.default.createVirtualElement(node)}))}return function(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}(VirtualNode,[{key:"updateElement",value:function(element,scope){var details=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return _vdom.default.updateVirtualEvents(element,this,scope,details),_vdom.default.updateVirtualAttributes(element,this,scope,details),element}},{key:"createElement",value:function(scope){var details=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},deep=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],element=document.createElement(this.type),_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this.attributes[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var attr=_step2.value;try{element.setAttribute(attr.name,attr.value)}catch(e){throw Error('Error occured with attribute "'.concat(attr.name,'" and value "').concat(attr.value,'": ').concat(e.message))}}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return this.vAttributes.forEach(function(attr){return _vdom.default.applyVirtualAttribute(element,attr,scope,details)}),this.vEvents.forEach(function(attr){return _vdom.default.applyVirtualEvent(element,attr,scope,details)}),this.vCustomAttributes.forEach(function(attr){return _vdom.default.applyCustomAttribute(element,attr,scope,details)}),deep&&this.children.forEach(function(vChild){return element.appendChild(_vdom.default.createElement(vChild,scope,details))}),element}}]),VirtualNode}();module.exports=VirtualNode},{"./../vdom":8}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_vdom=(obj=require("./../vdom"))&&obj.__esModule?obj:{default:obj};function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var VirtualTree=function(){function VirtualTree(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VirtualTree),this.html=null,this.root=null,this.newVirtualDOM=null,this.oldVirtualDOM=null}return function(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}(VirtualTree,[{key:"render",value:function(root,html){var scope=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},details=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};this.root=root,this.html=html,this.newVirtualDOM=_vdom.default.createVirtualDOM(this.html.cloneNode(!0)),this.oldVirtualDOM=_vdom.default.createVirtualDOM(this.root),_vdom.default.updateElement(this.root,this.newVirtualDOM,this.oldVirtualDOM,scope,details)}},{key:"update",value:function(){var scope=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},details=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.oldVirtualDOM=this.newVirtualDOM,this.newVirtualDOM=_vdom.default.createVirtualDOM(this.html.cloneNode(!0)),_vdom.default.updateElement(this.root,this.newVirtualDOM,this.oldVirtualDOM,scope,details)}}]),VirtualTree}();exports.default=VirtualTree},{"./../vdom":8}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vNode=_interopRequireDefault(require("./nodes/v-node")),_vIfNode=_interopRequireDefault(require("./nodes/v-if-node")),_vForNode=_interopRequireDefault(require("./nodes/v-for-node"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _construct(Parent,args,Class){return(_construct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var VDOM={ATTRIBUTE_REGEX:new RegExp(/\[(\S+)\]/),EVENT_REGEX:new RegExp(/\((\S+)\)/),customAttributes:[],directives:[],addCustomAttribute:function(selector,callback){this.customAttributes.push({pattern:new RegExp(selector),callback:callback})},addDirective:function(selector,className){this.directives.push({selector:selector,className:className})},flatten:function(elements){var result=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=elements[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var element=_step.value;if(Array.isArray(element)){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=element[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var el=_step2.value;result.push(el)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}else element&&result.push(element)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return result},parseExpression:function(expression){var parameters=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},scope=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};parameters=Object.assign({},parameters),scope._container&&(parameters=Object.assign({},parameters,scope._container.scope));var f=_construct(Function,_toConsumableArray(Object.keys(parameters).concat([expression])));try{return f.call.apply(f,[scope].concat(_toConsumableArray(Object.values(parameters))))}catch(e){throw new Error("".concat(e.message,' from "').concat(scope.constructor.name," > ").concat(expression,'"'))}},createVirtualDOM:function(element){var _this=this,scope=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},details=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return{type:"template",children:this.flatten(Array.from(element.childNodes).map(function(node){return _this.createVirtualElement(node,scope,details)}))}},createVirtualElement:function(element){if(!element)return null;if(!element.tagName)return{type:"text",data:element.data,children:[]};var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=this.directives[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var directive=_step3.value;if(element.hasAttribute(directive.selector))return new directive.className(element)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return new _vNode.default(element)},createElement:function(vElement,scope){var details=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return"text"===vElement.type&&vElement.data?document.createTextNode(vElement.data):vElement.createElement(scope,details)},applyCustomAttribute:function(element,attribute,scope){var details=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},value=this.parseExpression("return ".concat(attribute.value),details,scope);attribute.callback.call(scope,element,{name:attribute.name,value:value},details)},applyVirtualAttribute:function(element,attribute,scope){var details=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},attributeNames=attribute.name.split("."),value=this.parseExpression("return ".concat(attribute.value),details,scope);switch(attributeNames[0]){case"style":element.style[attributeNames[1]]=attributeNames[2]?value+attributeNames[2]:value;break;case"class":value?element.classList.add(attributeNames[1]):element.classList.remove(attributeNames[1]);break;case"classname":element.className=value;break;case"attribute":case"attr":"object"===_typeof(value)&&(value=JSON.stringify(value)),element.setAttribute(attributeNames[1],value);break;case"innerhtml":element.innerHTML=value;break;default:element[attributeNames[0]]?element[attributeNames[0]]=value:value?element.setAttribute(attributeNames[0],value):element.removeAttribute(attributeNames[0])}},updateVirtualAttributes:function(element,newVNode,scope){var details=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=newVNode.vAttributes[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var attribute=_step4.value;this.applyVirtualAttribute(element,attribute,scope,details)}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}},applyVirtualEvent:function(element,attribute,scope){var _this2=this,details=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},attributeNames=attribute.name.split(".");element.removeEventListener(attributeNames[0],element["_".concat(attribute.name,"Handler")]),element["_".concat(attribute.name,"Handler")]=function($event){attributeNames.includes("prevent")&&$event.preventDefault(),attributeNames.includes("stop")&&$event.stopPropagation();var $target=$event.target,$value=$target.value?$target.value:void 0;_this2.parseExpression(attribute.value,Object.assign({$event:$event,$target:$target,$value:$value},details),scope),attributeNames.includes("once")&&element.removeEventListener(attributeNames[0],element["_".concat(attribute.name,"Handler")])},element.addEventListener(attributeNames[0],element["_".concat(attribute.name,"Handler")])},updateVirtualEvents:function(element,newVNode,scope){var details=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(newVNode.vEvents&&newVNode.vEvents.length){var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=newVNode.vEvents[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var attr=_step5.value;this.applyVirtualEvent(element,attr,scope,details)}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{_iteratorNormalCompletion5||null==_iterator5.return||_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}}},changed:function(vNode1,vNode2){return vNode1.type!==vNode2.type||"text"===vNode1.type&&"text"===vNode2.type&&vNode1.data!==vNode2.data},updateElement:function(parent,newVNode,oldVNode,scope){var details=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},index=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(oldVNode)if(newVNode){if(this.changed(newVNode,oldVNode))parent.replaceChild(this.createElement(newVNode,scope,details),parent.childNodes[index]);else if(newVNode.type&&parent){"template"!==newVNode.type&&"text"!==newVNode.type&&parent.childNodes[index]&&newVNode.updateElement(parent.childNodes[index],scope,details);for(var newLength=newVNode.children.length,oldLength=oldVNode.children.length,i=0;i<newLength||i<oldLength;i++)this.updateElement("template"===newVNode.type?parent:parent.childNodes[index],newVNode.children[i],oldVNode.children[i],scope,details,i)}}else parent.replaceChild(document.createTextNode(""),parent.childNodes[index]);else parent.appendChild(this.createElement(newVNode,scope,details))}};VDOM.addDirective("#if",_vIfNode.default),VDOM.addDirective("#for",_vForNode.default);var _default=VDOM;exports.default=_default},{"./nodes/v-for-node":4,"./nodes/v-if-node":5,"./nodes/v-node":6}]},{},[3]);